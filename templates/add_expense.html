{% extends "base.html" %}
{% block content %}

<h1 class="text-2xl font-bold mb-6">Add Expense</h1>

<form method="POST" class="space-y-5 max-w-md w-full">

    <!-- Date -->
    <div>
        <label class="block font-medium mb-1">Date</label>
        <input type="date" name="date" required
               class="w-full border rounded p-2 focus:ring focus:ring-blue-300">
    </div>

    <!-- Amount -->
    <div>
        <label class="block font-medium mb-1">Amount</label>
        <input type="number" step="0.01" name="amount" required
               class="w-full border rounded p-2 focus:ring focus:ring-blue-300">
    </div>

    <div class="form-group">
    <label>
        <input type="checkbox" id="use_ai" name="use_ai" checked>
        Use AI to Categorise
    </label>
    </div>

    <div class="form-group" id="manual_category_group" style="display:none;">
        <label for="manual_category">Category (Manual):</label>
        <select id="manual_category" name="manual_category" class="form-control">
            <option value="Food">Food</option>
            <option value="Groceries">Groceries</option>
            <option value="Transport">Transport</option>
            <option value="Shopping">Shopping</option>
            <option value="Health">Health</option>
            <option value="Entertainment">Entertainment</option>
            <option value="Bills">Bills</option>
            <option value="Education">Education</option>
            <option value="Travel">Travel</option>
            <option value="Gifts">Gifts</option>
            <option value="Kids">Kids</option>
            <option value="Fitness">Fitness</option>
            <option value="Miscellaneous">Miscellaneous</option>
        </select>
    </div>


    <!-- Category -->
    <div>
        <label class="block font-medium mb-1">Category</label>
        <input type="text" name="category" required
               class="w-full border rounded p-2 focus:ring focus:ring-blue-300">
    </div>

    <!-- Note -->
    <div>
        <label class="block font-medium mb-1">Note</label>
        <input type="text" name="note"
               class="w-full border rounded p-2 focus:ring focus:ring-blue-300">
    </div>

    <!-- Submit Button -->
    <button type="submit"
            class="bg-blue-600 hover:bg-blue-700 text-white px-5 py-2 rounded">
        Add Expense
    </button>

</form>

<script>
    const use_ai_checkbox = document.getElementById("use_ai");
    const manual_category_group = document.getElementById("manual_category_group");

    use_ai_checkbox.addEventListener("change", function () {
        if (this.checked) {
            manual_category_group.style.display = "none";
        } else {
            manual_category_group.style.display = "block";
        }
    });
</script>

{% endblock %}
